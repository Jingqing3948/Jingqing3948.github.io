!function(){"use strict";var e;function t(e,t){e=e.replace(/<%-sUrl%>/g,encodeURIComponent(t.sUrl)).replace(/<%-sTitle%>/g,encodeURIComponent(t.sTitle)).replace(/<%-sDesc%>/g,encodeURIComponent(t.sDesc)).replace(/<%-sPic%>/g,encodeURIComponent(t.sPic));window.open(e)}function s(){$(".wx-share-modal").removeClass("in ready"),$("#share-mask").hide()}function o(e,s){"weibo"===e?t("http://service.weibo.com/share/share.php?url=<%-sUrl%>&title=<%-sTitle%>&pic=<%-sPic%>",s):"qq"===e?t("http://connect.qq.com/widget/shareqq/index.html?url=<%-sUrl%>&title=<%-sTitle%>&source=<%-sDesc%>",s):"douban"===e?t("https://www.douban.com/share/service?image=<%-sPic%>&href=<%-sUrl%>&name=<%-sTitle%>&text=<%-sDesc%>",s):"qzone"===e?t("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=<%-sUrl%>&title=<%-sTitle%>&pics=<%-sPic%>&summary=<%-sDesc%>",s):"facebook"===e?t("https://www.facebook.com/sharer/sharer.php?u=<%-sUrl%>",s):"twitter"===e?t("https://twitter.com/intent/tweet?text=<%-sTitle%>&url=<%-sUrl%>",s):"google"===e?t("https://plus.google.com/share?url=<%-sUrl%>",s):"weixin"===e&&($(".wx-share-modal").addClass("in ready"),$("#share-mask").show())}!function(e){let t=e(".search-form-wrap"),s=!1;e(".nav-item-search").on("click",(()=>{var o;s||(s=!0,t.addClass("on"),o=function(){e(".local-search-input").focus()},setTimeout((function(){s=!1,o&&o()}),200))})),e(document).on("mouseup",(s=>{const o=e(".local-search");o.is(s.target)||0!==o.has(s.target).length||t.removeClass("on")})),e(".local-search").length&&e.getScript("/js/search.js",(function(){searchFunc("/search.xml","local-search-input","local-search-result")})),e(".share-outer").on("click",(()=>e(".share-wrap").fadeToggle())),e("img.lazy").lazyload({effect:"fadeIn"}),e("#gallery").justifiedGallery({rowHeight:200,margins:5}),e(document).ready((function(e){e(".anchor").on("click",(function(t){t.preventDefault(),e("main").animate({scrollTop:e(".cover").height()},"smooth")}))})),(()=>{const t=e("#totop");t.hide(),e(".content").on("scroll",(()=>{e(".content").scrollTop()>1e3?e(t).stop().fadeTo(200,.6):e(t).stop().fadeTo(200,0)})),e(t).on("click",(()=>(e(".content").animate({scrollTop:0},1e3),!1)))})(),e(".article-entry").each((function(t){e(this).find("img").each((function(){if(e(this).parent().is("a"))return;const{alt:t}=this;t&&e(this).after('<span class="caption">'+t+"</span>")}))}));const o=e(".content"),a=e(".sidebar");e(".navbar-toggle").on("click",(()=>{e(".content,.sidebar").addClass("anim"),o.toggleClass("on"),a.toggleClass("on")})),e("#reward-btn").on("click",(()=>{e("#reward").fadeIn(150),e("#mask").fadeIn(150)})),e("#reward .close, #mask").on("click",(()=>{e("#mask").fadeOut(100),e("#reward").fadeOut(100)})),1==sessionStorage.getItem("darkmode")?(e("body").addClass("darkmode"),e("#todark i").removeClass("ri-moon-line").addClass("ri-sun-line")):(e("body").removeClass("darkmode"),e("#todark i").removeClass("ri-sun-line").addClass("ri-moon-line")),e("#todark").on("click",(()=>{1==sessionStorage.getItem("darkmode")?(e("body").removeClass("darkmode"),e("#todark i").removeClass("ri-sun-line").addClass("ri-moon-line"),sessionStorage.removeItem("darkmode")):(e("body").addClass("darkmode"),e("#todark i").removeClass("ri-moon-line").addClass("ri-sun-line"),sessionStorage.setItem("darkmode",1))}))}(jQuery),e={id:"3MVzRwYphDlNvCW7",ck:"3MVzRwYphDlNvCW7"},function(){var t=window,s=document,o=e,a="".concat("https:"===s.location.protocol?"https://":"http://","sdk.51.la/js-sdk-pro.min.js"),r=s.createElement("script"),n=s.getElementsByTagName("script")[0];r.type="text/javascript",r.setAttribute("charset","UTF-8"),r.async=!0,r.src=a,r.id="LA_COLLECT",o.d=r;var c=function(){t.LA.ids.push(o)};t.LA?t.LA.ids&&c():(t.LA=e,t.LA.ids=[],c()),n.parentNode.insertBefore(r,n)}();(()=>{let e=document.querySelectorAll(".share-sns");if(!e||0===e.length)return;let t=window.location.href,a=document.querySelector("title").innerHTML,r=document.querySelectorAll(".article-entry img").length?document.querySelector(".article-entry img").getAttribute("src"):"";""===r||/^(http:|https:)?\/\//.test(r)||(r=window.location.origin+r),e.forEach((e=>{e.onclick=s=>{o(e.getAttribute("data-type"),{sUrl:t,sPic:r,sTitle:a,sDesc:a})}})),document.querySelector("#mask").onclick=s,document.querySelector(".modal-close").onclick=s})(),document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll("img").forEach((e=>{const t=e.getAttribute("src")||"",s=e.classList.contains("lazy"),o=t.startsWith("http")||t.startsWith("//"),a=t.endsWith(".svg"),r=e.closest("header")||"logo"===e.id;s||o||a||r||e.classList.add("lazy")}))}))}();
